<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up Page</title>
    <link rel="stylesheet" href= "/static/css/signUpPage.css">

</head>
<body>

    <div class="signupCard">

        <div class="leftSideSign">
            <img src="/static/assets/signupGraphic.png" alt="Sign Up Graphic" id="signupGraphic">
        </div>

        <div class="rightSideSign">
            <h1> Create an Account </h1>
           
            <form action="/signup" id="signUpForm" method="POST">
                <div class="nameGroup">
                    <section class="firstName">
                        <label for="firstName"> First Name </label> 
                        <input type="text" id="firstName" name="firstName" required />
                    </section>

                    <section class="lastName">
                        <label for="lastName"> Last Name </label> 
                        <input type="text" id="lastName" name="lastName" required />
                    </section>
                </div>

                <section class="email">
                    <label for="email"> Email </label> <br>
                    <input type="text" id="email" name="email" required />
                </section>

                <section class="passwordSignUp">
                    <label for="passwordSignUp"> Password </label> <br>
                    <input type="password" id="passwordSignUp" name="passwordSignUp" minlength="8" required />
                </section>

                <section class="passwordVerify">
                    <label for="passwordVerify"> Verify Password </label> <br>
                    <input type="password" id="passwordVerify" name="passwordVerify" minlength="8" onblur="checkPasswordMatch()" required />
                </section>

                <button type="submit" id="signUpButton"> Sign up </button>
            </form>

            <section class="haveAccount">
                <p> Already have an account? </p>
                <a href="/login">
                    <button id="linkToLogin"> Login </button>
                </a>
                <!-- <button onclick="window.location.href='/app/templates/loginPage.html';" id="linkToLogin"> Login </button> -->
            </section>
        </div>
    </div>

    <script src="/static/js/signUpPage.js"></script>

    <script>



        function checkPasswordMatch() {
            const password = document.getElementById("passwordSignUp").value;
            const confirmPassword = document.getElementById("passwordVerify").value;
            
            if(password !== confirmPassword) {
                alert("Passwords do not match!");
            }
        }
    </script>

    <!-- <script>
            document.getElementById('signUpForm').addEventListener('submit', function(event){
            event.preventDefault();

        const firstName = document.getElementById('firstName').value;
        console.log(firstName);
        const lastName = document.getElementById('lastName').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('passwordSignUp').value; 
        const validatePassword = document.getElementById('passwordVerify').value;

        // checking for input fields not empty 
        if(!firstName || !lastName || !email || !password){
            alert("All fields are required. Please fill in missing fields.");
            return;
        }

        //Password Length Validation 
        if(password.length < 8){
            alert("Password must be at least 8 characters long.");
            return;
        }

        // Validate Password to match
        if(password != validatePassword){
            alert("Passwords do not match");
            return;
        }

        // grabbing users from Local Storage
        const users = JSON.parse(localStorage.getItem('users')) || [];

        // searching user with matching email
        const user = users.find(u => u.email === email && u.password === password);

        // saving user sign up in & redirect to login page 
        if(user){

            localStorage.setItem('loggedInUser', JSON.stringify(user));
            alert("Successful Login!");

            // redirection to page after Sign Up
            setTimeout(() => {
                window.location.href = '/app/templates/loginPage.html'

            }, 1000);
        }

        else{ 
            alert('Invalid username or password');
        }
        });
    </script> -->

</body>

</html>